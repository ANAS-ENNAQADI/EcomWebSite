<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/NavBarStyle.css">
    <link rel="stylesheet" href="../CSS/userHome.css">
    <link rel="stylesheet" href="../CSS/OrderAdmin.css">
    <link rel="stylesheet" href="../CSS/footer.css">
    <link rel="stylesheet" href="../CSS/Login.css">
    <link rel="stylesheet" href="../CSS/panier.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <title>Mon Compte - Tableau de bord</title>
    <style>
        main{
            margin-top: 160px;
        }
        table.OrdTable{
            width: 710px !important;
            margin-top: -30px !important;
        }
        .OrdDetailsContainer{
            margin-left: 0 !important;
        }
        .UserInfoo{
            flex-direction: column !important;
        }
    </style>
</head>

<body>
    <header>
        <ul class="NavUl">
            <li>
                <a href="../Html/index.html">
                    <img src="../Uploads/navLogo.PNG" alt="Logo" style="width: 200px;height: 80px; margin-bottom: -30px;margin-top: -20px;"></li>
                </a>
            <li>
                <input class="NavElement" type="text" name="Search" id="in1"  oninput="searchProd()" placeholder="Chercher un produit,une marque ou une catégorie">
                <div id="dropdown" class="dropdown-content" style="margin-left: -35px !important;"></div>
            </li>
            <li class="AllBtns">
                <button id="CatB">
                    <span>Catégories</span>
                    <div class="AllCat">
                        <div>
                            <a href="../Html/PhonesPage.html">Téléphones</a>
                        </div>
                        <div>
                            <a href="../Html/PcPages.html">Ordinateurs</a>
                        </div>
                        <div>
                            <a href="../Html/WatchPages.html">SmartWatches</a>
                        </div>
                        <div>
                        <a href="../Html/TvPages.html">Télévision</a>
                        </div>
                    </div>
                </button>
                <button id="LoginL" onclick="ShowLogInForm()" style="display: none;">Connexion</button>
                <a style="display: block;" id="user" href="../Html/userHome.html" ><span id="nom-user"></span></a>
                <button class="NavElement bouttonNav" onclick="pannier()" id="PanierB" type="button">
                    <span style="cursor: pointer;">Panier <span id="panierCount">0</span></span>
                    <div class="PanierDivParent" id="PanierDivParentID" style="display: none;">
                        <!-- Cart Header -->
                        <div class="ClosePanierDiv" >
                            <span class="ClosePanierBTN" id="ClosePanierBTNID" onclick="closePanier()" style="cursor: default;"></span>
                        </div>
                        <!-- Cart Prodects  -->
                        <div class="PanierDivProdects" id="PanierDivProdectsID">
                        </div>
                        <!-- Cart Total Price -->
                        <div class="PanierDivTotalPrice">
                            <div>
                                <span>Total</span>
                                <span class="PanierTotalPrice" id="PanierTotalPriceID"></span>
                            </div>
                            <div class="GoToPanier" id="pannier" onclick="pannier()">ACCÉDER AU PANIER</div>
                        </div>
                    </div>
                </button>
            </li>
        </ul>
    </header>

    <main>

        <!-- DashBord -->
        <div class="UserSideBar">
            <div class="UserProfile">
                <img src="../icons/user-alt-1-svgrepo-com.svg" alt="User Profile Img">
                <span>Bonjour</span>
                <span class="UserName" id="UserNameID">Yahya Elkhair</span>
            </div>
            <div class="UserMenu">
                <button class="TableBordLink IsClicked">Mon tableau de bord</button>
                <button class="InfosLink">Mes informations</button>
                <button class="CommandesLink">Mes commandes</button>
                <button class="AdressesLink">Mes adresses</button>
                <button class="DeconnexionLink" onclick="logout()">Déconnexion</button>
            </div>
        </div>
        <div class="UserInfo" id="UserInfoID">
            <h2>Mon tableau de bord</h2>
            <div class="UserInfosDiv">
                <div>
                    <h4>Information de mon compte</h4>
                    <button onclick="" id="m1" class="mBtn">Modifier</button>
                </div>
                <div>
                    <span>Nom: </span>
                    <span class="UserNom"></span>
                </div>
                <div>
                    <span>Prenom: </span>
                    <span class="UserPrenom"></span>
                </div>
                <div>
                    <span>Email: </span>
                    <span class="UserEmail"></span>
                </div>
                <div>
                    <span>Télephone: </span>
                    <span class="UserPhone"></span>
                </div>

            </div>
            <div class="UserAdresses">
                <div>
                    <h4>Adresse de livraison</h4>
                    <button onclick="" id="m2" class="mBtn">Modifier</button>
                </div>
                <div>
                    <span>Pays : </span>
                    <span class="UserAddPay"></span>
                </div>
                <div>
                    <span>Ville : </span>
                    <span class="UserVillAdd"></span>
                </div>
                <div>
                    <span>Adresse : </span>
                    <span class="UserAdd"></span>
                </div>
                <div>
                    <span>Code Postal : </span>
                    <span class="UserCP"></span>
                </div>


            </div>
        </div>

        <!-- Edit Infos -->
        <form action="" class="UserEditInfo" name="UserEditInfo" id="UserEditInfoID">
            <h2>Mes informations</h2>
            <input type="email" name="UserEmail" id="UserEmaiID" readonly value="exemple@gmail.com">
            <input type="text" name="UserNomInput" id="UserNomInputID">
            <input type="text" name="UserPrenomInput" id="UserPrenomInputID">
            <div>
                <input type="checkbox" name="PassWordcheckbox" id="PassWordcheckboxID" onclick="ShowPassWordForm()">
                <label for="PassWordcheckboxID">Modifier le mot de passe</label>
            </div>

            <div id="PassWordInputs">
                <input type="password" name="UserPassWordInput" id="UserPassWordInputID"
                    placeholder="Mot de passe actuel">
                <input type="password" name="UserPassWordInput" id="UserPassWordInputID2"
                    placeholder="Nouveau mot de passe actuel">
                <input type="password" name="UserPassWordInput" id="UserPassWordInputID3"
                    placeholder="Comfirmer le nouveau mot de passe actuel">
            </div>

            <div class="Btns">
                <a href="/Html/UserInfo.html">RETOUR</a>
                <button type="submit">SAUVEGARDER</button>
            </div>

        </form>

        <!-- Commandes -->
        <div class="ProdectsContainer" id="ProdectsContainerID">

            <div class="OrdTableDIV">
                <h2>Mes Commandes</h2>
                <br>
                <div class="order-messge" id="order-mess"></div>
                <table class="OrdTable" border="">
                    <thead>
                        <tr>
                            <th>N</th>

                            <th>Traking NO</th>
                            <th>total</th>
                            <th>Date</th>
                            <th>Statut</th>
                            <th>Order Details</th>
                        </tr>
                    </thead>

                    <tbody>

                    </tbody>
                </table>
            </div>
        </div>
        <!-- Adresse -->

        <form action="" class="UserAdresse" name="UserAdresse" id="UserAdresseID">
            

            <h2>Ajouter une nouvelle adresse</h2>
            <select id="UserregionsID" name="Userregions">
                <option value="none">Sélectionnez une région</option>
                <option value="Casablanca-Settat">Casablanca-Settat</option>
                <option value="Rabat-Salé-Kénitra">Rabat-Salé-Kénitra</option>
                <option value="Marrakech-Safi">Marrakech-Safi</option>
                <option value="Fès-Meknès">Fès-Meknès</option>
                <option value="Tanger-Tétouan-Al Hoceïma">Tanger-Tétouan-Al Hoceïma</option>
                <option value="Oriental">Oriental</option>
                <option value="Beni Mellal-Khénifra">Beni Mellal-Khénifra</option>
                <option value="Souss-Massa">Souss-Massa</option>
                <option value="Draâ-Tafilalet">Draâ-Tafilalet</option>
                <option value="Laâyoune-Sakia El Hamra">Laâyoune-Sakia El Hamra</option>
                <option value="Guelmim-Oued Noun">Guelmim-Oued Noun</option>
                <option value="Dakhla-Oued Ed-Dahab">Dakhla-Oued Ed-Dahab</option>
            </select>
            <input type="text" name="UserVille" id="UserVilleID" placeholder="Saisir Votre ville">
            <input type="text" name="UserCP" id="UserCPID" placeholder="Code Postal">
            <input type="text" name="UserAdresse" id="UserAdresseInputID" placeholder="Adresse">

            <div class="Btns">
                <a href="../Html/userHome.html">RETOUR</a>
                <button type="button" onclick="addAddresse()">SAUVEGARDER</button>
            </div>
            <br><br>
            <div class="UserInfo" id="UserInfoID">
                <div class="UserInfoo" id="UserInfoID">
                    <div class="no-data"></div>
                </div>
            </div>

        </form>
        

        <!--  order details -->
        <div class="OrdDetailsContainer" id="OrdDetailsContainerID" >
            <div class="OrdHeaser">
                <h2>Order détails</h2>
                <button class="BackBTN" onclick="goToOrders()">Retour</button>
            </div>
            <div class="OrdDetailsDIV">
    
                <!-- -------------- LivraisonInfos --------------- -->

                <div class="LivraisonInfos">
                    <h2>Livraison détails</h2>
                    <hr>
                    <label for="UserNameID">Nom et Prenom</label>
                    <input type="text" name="UserName" id="UserNameID" readonly>
                    <label for="UserEmailID">Email</label>
                    <input type="text" name="UserEmail" id="UserEmailID" readonly>
                    <label for="UserPhoneID">Telephone</label>
                    <input type="text" name="UserPhone" id="UserPhoneID" readonly>
    
                    <label for="">Traking No</label>
                    <input type="text" name="TrackingNo" id="" readonly value="">
    
                    <label for="UserVilleID">Ville</label>
                    <input type="text" name="UserVille" id="UserVilleID" readonly value="EL JADIDA">
                    <label for="UserAdresseID">Adresse</label>
                    <input type="text" name="UserAdresse" id="UserAdresseID" readonly value="112 rue des rues">
                    <label for="UserCPID">Code Postal</label>
                    <input type="text" name="UserCP" id="UserCPID" readonly value="21615">
                    <label for="OrderDateID">La date du commande</label>
                    <input type="text" name="OrderDate" id="OrderDateID" readonly value="04-12-2023">
                </div>
    
                <!-- ------------ ProduitDetails ------------- -->
                <div class="ProduitDetails">
                    <h2>Produits détails</h2>
                    <hr>
                    <div class="Tdiv">
                        <table class="ProdectTable">
                            <thead>
                                <tr>
                                    <th class="pth" colspan="2">Produit</th>
                                    <th>Prix</th>
                                    <th>Quantité</th>
                                </tr>
                            </thead>
                            <tbody id="tbody">
    
                            </tbody>
                        </table>
    
                    </div>
                    <hr>
                    <div class="TotalPriceDIV">
                        <span>Prix Total</span>
                        <span class="TotalPriceValue">4154</span>
                    </div>
                    <hr>
                    <label for="PaymentID">Méthode de Paiement</label>
                    <input type="text" name="Payment" id="PaymentID" readonly value="Credit Card">
                    <label for="statutID">Order statut</label>
                    <input type="text" id="status" readonly>
                   
    
                </div>
            </div>
           
        </div>

        <!--  spinner   -->

        <div class="spinner-container">
            <div class="spinner" id="spinner">
                <i class="fas fa-spinner fa-spin"></i>
            </div>
        </div>
    </main>
    <!-- ------------- Footer ------------ -->
    <footer class="footer">
        <table>
            <thead>
                <tr>
                    <th>Company</th>
                    <th>Get Help</th>
                    <th>Categories</th>
                    <th>Follow Us</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Privacy Policy</td>
                    <td>Payment Options</td>
                    <td><a href="/Html/WatchPages.html">Smart Watches</a></td>
                    <td>Facebook</td>
                </tr>
                <tr>
                    <td>Our Services</td>
                    <td>Orders Stauts</td>
                    <td><a href="/Html/PcPages.html">Laptops</a></td>
                    <td>Instagram</td>

                </tr>
                <tr>
                    <td>About Us</td>
                    <td>Visit Website</td>
                    <td><a href="/Html/PhonesPage.html">Phones</a></td>
                    <td>Youtube</td>
                </tr>
                <tr>
                    <td></td>
                    <td>Shipping</td>
                    <td><a href="/Html/TvPages.html">TV</a></td>
                    <td>LinkedIN</td>
                </tr>
            </tbody>
        </table>
        
    </footer>
    <script>

function pannier(){
    window.location.href="http://localhost:3000/EcomWebSite-main2/Site%20Web%20Ecommerce/Frontend/Html/Cart.html";
}
          document.getElementById('OrdDetailsContainerID').style.display ="none";

      function  showDetails(){
          document.getElementById('OrdDetailsContainerID').style.display ="block";

          document.getElementById('ProdectsContainerID').style.display="none";
        }
    function goToOrders(){
        document.getElementById('OrdDetailsContainerID').style.display ="none";

document.getElementById('ProdectsContainerID').style.display="block";
    }
        function ChangeBTN() {
            let x = document.querySelectorAll(".UserMenu button")
            x.forEach((element, i) => {
                element.addEventListener("click", function () {
                    element.classList.add("IsClicked");
                    for (let index = 0; index < x.length; index++) {
                        if (index < i || index > i) {
                            x[index].classList.remove("IsClicked")
                        }
                    }

                    switch (i) {
                        case 0:
                            document.getElementById("UserInfoID").style.display = 'flex';
                            document.getElementById("UserEditInfoID").style.display = 'none';
                            document.getElementById("UserAdresseID").style.display = 'none';
                            document.getElementById("ProdectsContainerID").style.display = "none";

                            break;
                        case 1:
                            document.getElementById("UserInfoID").style.display = 'none';
                            document.getElementById("UserEditInfoID").style.display = 'flex';
                            document.getElementById("UserAdresseID").style.display = 'none';
                            document.getElementById("ProdectsContainerID").style.display = "none";

                            break;
                        case 2:

                            document.getElementById("ProdectsContainerID").style.display = "flex";
                            document.getElementById("UserInfoID").style.display = 'none';
                            document.getElementById("UserEditInfoID").style.display = 'none';
                            document.getElementById("UserAdresseID").style.display = 'none';
                            break;
                        case 3:

                            document.getElementById("UserInfoID").style.display = 'none';
                            document.getElementById("UserEditInfoID").style.display = 'none';
                            document.getElementById("UserAdresseID").style.display = 'flex';
                            document.getElementById("ProdectsContainerID").style.display = "none";

                            break;
                    }
                })
            })
        }
        ChangeBTN();

        function ShowPassWordForm() {
            let checkboxInput = document.forms['UserEditInfo'].elements['PassWordcheckbox'];
            if (checkboxInput.checked) {
                document.getElementById("PassWordInputs").style.display = "block";
            } else {
                document.getElementById("PassWordInputs").style.display = "none";
            }
        }







        function ShowFormes() {
            let btns = document.querySelectorAll("h4 + button");
            btns.forEach((element, j) => {
                element.addEventListener("click", function () {
                    if (j === 0) {
                        document.getElementById('UserEditInfoID').style.display = 'flex';
                        document.getElementById('UserInfoID').style.display = 'none';
                        let x = document.querySelectorAll(".UserMenu button")
                        x[1].classList.add("IsClicked");
                        x.forEach((element, i) => {
                            if (i !== 1) {
                                x[i].classList.remove("IsClicked");
                            }
                        })
                    }
                    else {
                        document.getElementById('UserAdresseID').style.display = 'flex';
                        document.getElementById('UserInfoID').style.display = 'none';
                        let x = document.querySelectorAll(".UserMenu button")
                        x[3].classList.add("IsClicked");
                        x.forEach((element, i) => {
                            if (i !== 3) {
                                x[i].classList.remove("IsClicked");
                            }
                        })
                    }
                })
            })
        }
        ShowFormes()

        function TotalPrice() {
            let Qantite = document.querySelectorAll(".D1 .ProduitQantite");
            let Prix = document.querySelectorAll(".D1 .ProduitPrix");
            let TotalPrix = document.querySelectorAll(".D2 .ProsuitPrixTotal");
            let ListQantite = [];
            let ListPrix = [];
            Qantite.forEach((element) => {
                ListQantite.push(+element.innerText);
            })
            Prix.forEach((element, i) => {
                ListPrix.push(+element.innerText)
            })
            TotalPrix.forEach((element, i) => {
                let x = ListQantite[i] * ListPrix[i]
                TotalPrix[i].innerText = x.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, ' ') + "DH"
            })
            ListPrix.forEach((element, i) => {
                ListPrix[i] = ListPrix[i].toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
            })
            Prix.forEach((element, i) => {
                Prix[i].innerText = ListPrix[i];
            })
            console.log(ListPrix);
        }
        TotalPrice();
    </script>

    <script src="/EcomWebSite-main2/Site Web Ecommerce/backend/JS/user/getUserInfo.js"></script>
    <script src="/EcomWebSite-main2/Site Web Ecommerce/backend/JS/Cart/addToCart.js"></script>
   
</body>

</html>